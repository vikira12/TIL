# Verilog 컴파일러 지시문

# **컴파일러 지시문이 뭘까?**

Verilog에서 컴파일러 지시문은 **소스 코드가 실제로 컴파일(합성 또는 시뮬레이션)되기 전에 컴파일러에게 특정 처리를 지시하는 명령어**라고 할 수 있겠습니다. C언어에서 사용하는 define, include등 C언어에서 사용하는 컴파일러 지시문들은 앞에 #을 사용했지만 Verilog에서는 #이 아닌 백틱(`)을 사용합니다.

# **메크로 정의 및 파일 포함**

define, undef, include가 여기에 속합니다.

- `define : **메크로 정의**, 어디서든 사용 가능한 **상수를 정의**합니다.
- `undef : 이전에 정의된 **메크로를 해제**합니다.
- `include : 외부 파일을 **현재 파일에 포함**시킵니다. (보통 define을 모아둔 파일을 가져올 때 사용합니다)

# **조건부 컴파일**

ifdef, elsif, else, endif, ifndef가 여기에 속합니다.

- `ifdef : 이 구문 뒤에 작성한 **메크로가 존재**하면 실행
- `elsif : **위의 구문이 거짓**이고 뒤에 작성한 메크로가 존재하면 실행
- `else : **위의 구문이 모두 거짓**일때 실행
- `indef : 모든 구문 작성 후 마지막에 작성
- `ifndef : 이 구문 뒤에 작성한 메크로가 없으면 실행

```html
`ifdef 매크로이름
    // '매크로이름'이 정의되어 있을 때만 컴파일되는 코드
`elsif 다른매크로이름
    // 앞의 조건이 거짓이고, '다른매크로이름'이 정의되어 있을 때 컴파일
`else
    // 위의 모든 조건이 만족되지 않을 때 컴파일
`endif

`ifndef 메크로이름
	// '매크로이름'이 정의되어 있지 않으면 컴파일되는 코드
`endif
```

# **시간 단위 및 정밀도 설정**

timescale이 여기에 속합니다.

- `timescale : 시간 단위 / 정밀도 순으로 작성하며 **시간의 기준**을 정하는 지시문입니다.

```html
`timescale 1ns/1ps
```

# **기타 주요 지시문**

default_nettype, unconnected_drive, resetall이 여기에 속합니다.

- default_nettype : 선언되지 않은 신호의 기본 타입을 지정합니다. 보통 none으로 설정하여 선언 누락으로 인한 **에러를 방지**하는 용도로 많이 사용합니다.
- nuconnected_drive : 연결되지 않은 입력 포트를 pull0 또는 pull1 상태로 **강제 고정**시킵니다. 끝지점 nounconnected_drive를 작성합니다.
- resetall : 모든 컴파일러 지시문을 기본값으로 **초기화**합니다.

```html
`resetall // 초기화

`default_nettype none // 선언되지 않은 변수 사용 시 에러를 발생시켜 오타 방지

`unconnected_drive
	pull0 // 연결되지 않은 입력 핀을 논리 0(GND)으로 강제 고정
`nounconnected_drive
```

# **마무리**

그럼 이렇게 Verilog의 컴파일러 지시문에 대해 알아보았습니다. 워낙 종류가 많아서 다 작성하지 못했지만 많이 사용하는 것 위주로 정리해 보았습니다. 사용한다면 개발자의 눈을 편하게 해주는 컴파일러 지시문은 코드에서 빼놓을 수 없는 요소라고 생각합니다. 모두 외우지 않더라도 **define, include**정도는 필수로 외우고 다니는 것을 추천합니다. 그럼 임베디드 정복자가 되시길 바라면서 마치겠습니다 감사합니다.
